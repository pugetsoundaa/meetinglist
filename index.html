<!DOCTYPE html>
<html>
	<head>
		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-110565423-2"></script>
		<script>
  			window.dataLayer = window.dataLayer || [];
  			function gtag(){dataLayer.push(arguments);}
  			gtag('js', new Date());

  			gtag('config', 'UA-110565423-2');
		</script>
		
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>PSAA Meeting List</title>
		
		<!--dependencies-->
		<script src="jquery_1_9_1.min.js"></script>
		<script src="footable.js"></script>
		<script src="footable.sort.js"></script>
		<link rel="stylesheet" type="text/css" href="footable.core.min.css">
		<link rel="stylesheet" type="text/css" href="pure_tables_0_6_0.min.css">
		
		<!--12sml_v2 CSS-->
		<link rel="stylesheet" type="text/css" href="style.css">
		<link rel="stylesheet" type="text/css" media="print" href="printstyle.css">
		
		<!--12sml_v2 JS-->
		<script src="meetingclass.js"></script>
		<script src="createquery.js"></script>
		<script src="createarray.js"></script>
		<script src="createlist.js"></script>

		<!--favicon-->
		<link rel="shortcut icon" href="/favicon.ico">

		<!-- Google Chart JS-->
		<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
		<script type="text/javascript">
  			// if IE then display IE message div
  			if (isIE()){
  				$(document).ready(function() {
  					$('#titdes').replaceWith("<span id=\"titdes\">Error: Internet Explorer</span>");
					$('#ie_message').css("display", "block");
				})
			}
			// otherwise display meeting table	    
			else{
				google.charts.load('current', {packages: ['corechart']});
  				google.charts.setOnLoadCallback(generateTable);
			}

  			function generateTable(){
				createMeetingQuery();
  			}

  			// Function to check if browser is IE
  			function isIE() {
				ua = navigator.userAgent;
				/* MSIE used to detect old browsers and Trident used to newer ones*/
				var is_ie = ua.indexOf("MSIE ") > -1 || ua.indexOf("Trident/") > -1;
				return is_ie; 
			}
		</script>
	</head>

	<body>
		<!-- main meeting list div-->
		<div id="sml_maindiv">
			<div id="sml_tableheading">
				<!-- table heading -->
				<div id="titlediv">
					<h2 id="titlepar">
						<div id="titlediv_img"><a href="https://www.pugetsoundaa.org"><img id="pcaalogo" src="psaalogo.jpeg" alt="Puget Sound AA"></a></div>
						<div id="titlediv_text"><span id="titdes">Meetings</span> <span id="mtgnum"></span></div>
					</h2>
				</div>
				<p id="subtitlepar"><span id="subtitdes"></span></p>
				<h3 id="printlink"><a href="javascript:prepForPrinting()">Print This Meeting List</a></h3>
				<p class="codekey">O = Open Meeting, C = Closed Meeting, M = Men's Meeting, W = Women's Meeting, H = Handicap Accessible, G = LGBTQI, S = Spanish Speaking, KF = Kid Friendly, SI = Sign Language Interpreter, VSI = Volunteer SI (To Arrange Call CSO Accessibilities at 253-474-8897), @ = Alanon Meeting Runs Concurrently<!--, YP = Young People, SM = Speaker Meeting--></p>

				<p class="clickmsg"><strong><span style="color:red">Note:&nbsp;</span></strong> Click On A Row To Display Additional Meeting Info</p>
			</div>
			<!-- the table div -->
			<div id="sml_table"></div>
			
			<!-- IE message div -->
			<div id="ie_message">
				<p>We apologize for the inconvenience, but this meeting list web application can only be run in a modern web browser. We recommend using <a target="_blank" href="https://www.google.com/chrome/">Chrome</a>, <a target="_blank" href="https://www.mozilla.org/en-US/firefox/new/">Firefox</a>, Edge, or Safari.
			</div>
			
		</div>
        <script>
			function prepForPrinting(){
				// checks to see if the oc and address is hidden due to screen size
				let temp = ($('#th_oc').css('display') == 'none');
				
				// preps meeting list so that O/C and Address are not hidden, and Notes are displayed
				$('.col_notes').css('display', 'table-cell');
				if(temp){
					$('.col_oc').css('display', 'table-cell');
					$('.col_address').css('display', 'table-cell');
				}
				
				// print the window
				window.print();
				
				// returns meeting list to original state
				$('.col_notes').css('display', 'none');
				if(temp){
					$('.col_oc').css('display', 'none');
					$('.col_address').css('display', 'none');
				}
			}
		</script>
	</body>
</html>
